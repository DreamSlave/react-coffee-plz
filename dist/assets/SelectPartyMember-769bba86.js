import{r as d,a as v,u as _,c as D,j as c,s as E}from"./index-9fa57f77.js";/* empty css              */import{C as u}from"./CheckBox-1f0339c7.js";const C=()=>{const[r,h]=d.useState([{name:"김진미",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID111"},{name:"김세인",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID222"},{name:"조도은",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID333"},{name:"권혜란",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID444"},{name:"정민재",team:"UX디자인팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID555"}]);d.useEffect(()=>{},[r]);const[k,p]=d.useState(!0),i=v(e=>e.party);console.log(":partyInfo:",i.memberList.length),d.useEffect(()=>{const e=[...r];k&&(i.memberList.length!==0&&(e.forEach(s=>{i.memberList.some(a=>a.userId===s.userId)&&(s.checked=!0)}),h(e),m()),p(!1))},[]);const[o,l]=d.useState([...new Set(r.map(e=>e.team))].map(e=>({team:e,checked:!1,isView:!1}))),j=(e,s)=>{const a=[...o];a[e].isView=!s,l(a)},m=()=>{const e=[...o];e.forEach(s=>{r.filter(a=>a.team===s.team).every(a=>a.checked===!0)&&(s.checked=!0)}),l(e)},f=(e,s,a)=>{const n=[...r];switch(e){case"USERID":n.forEach(t=>{t.userId===s&&(t.checked=a)});break;case"TEAM":n.forEach(t=>{t.team===s&&(t.checked=a)});break}h(n),m()},x=_(),b=D(),g=function(){const e=r.filter(s=>s.checked===!0).map(s=>({userId:s.userId,rank:s.rank,team:s.team,name:s.name}));b(E(e)),x("/party/save")};return c.jsxs("div",{id:"party",className:"element",children:[c.jsxs("h1",{children:[c.jsx("span",{className:"point",children:"대상인원을"}),c.jsx("br",{}),"선택해주세요."]}),c.jsxs("div",{className:"total_chck",children:[r.filter(e=>e.checked).length,"명"]}),o.map((e,s)=>c.jsxs("div",{className:"chck_person",children:[c.jsx(u,{checked:e.checked,onChange:a=>f("TEAM",e.team,a.target.checked),children:c.jsx("span",{children:e.team},s+"_span")},e.team),c.jsxs("div",{className:"p_2dpth_btn",onClick:()=>j(s,e.isView),children:["  ",e.isView?"^":"⌄","   "]}),c.jsx("div",{className:"p_2dpth",children:e.isView&&r.filter(a=>a.team===e.team).map((a,n)=>c.jsx(u,{checked:a.checked,onChange:t=>f("USERID",a.userId,t.target.checked),children:c.jsx("div",{children:c.jsxs("div",{children:[a.name," ",a.rank," (",a.team,")"]},n)},n)},a.name))},s+"_innder_div")]},s)),c.jsx("footer",{id:"footer",children:c.jsx("div",{className:"large-btn",onClick:g,children:"파티생성하기"})})]})};export{C as default};
