import{r as n,a as H,u as E,c as P,j as t,d as V}from"./index-817c5466.js";/* empty css              */import{D as F,e as j,k as L}from"./react-datepicker-00647be4.js";import"./setPrototypeOf-0bb37fbe.js";const K=()=>{const[N,v]=n.useState(!0),[d,x]=n.useState(new Date),[r,u]=n.useState(new Date),[m,S]=n.useState(""),[c,f]=n.useState(""),[g,p]=n.useState(""),[o]=n.useState([{cafeNm:"메가커피",cafeId:"001"},{cafeNm:"컴포즈커피",cafeId:"002"}]),[D,l]=n.useState(!0);n.useEffect(()=>{N&&(a.partyName&&S(a.partyName),a.cafeId?(p(a.cafeNm),f(a.cafeId)):c===""&&g===""&&o.length>0&&(p(String(o[0].cafeNm)),f(String(o[0].cafeId))),a.endDate&&x(C(a.endDate)),a.endTime?u(M(a.endTime)):u(k()),v(!1)),l(m!==""&&c!=="");const e=new Date,s=r.getTime()-e.getTime();d.getTime()>e.getTime()?l(!0):setTimeout(()=>{r.getTime()-e.getTime()>1e3*60*60?l(!0):l(!1)},s)},[m,c,g,d,r,N]);const T=e=>{S(e.target.value)},y=e=>{const s=o.find(i=>i.cafeId===e.cafeId);p(String(s==null?void 0:s.cafeNm)??""),f(String(s==null?void 0:s.cafeId)??"")},a=H(e=>e.party),I=E(),w=P(),b=function(){const e=d.toLocaleDateString("en-CA").replace(/-/g,""),s=r.toLocaleTimeString("en-US",{hour12:!1}).slice(0,-3).replace(":","");w(V(m,c,g,e,s)),I("/party/preview")};function C(e){const s=parseInt(e.substring(0,4),10),i=parseInt(e.substring(4,6),10)-1,h=parseInt(e.substring(6,8),10);return new Date(s,i,h)}function M(e){const s=new Date,i=parseInt(e.substring(0,2),10),h=parseInt(e.substring(2,4),10);return s.setHours(i),s.setMinutes(h),s}function k(){const e=new Date,s=e.getMinutes(),i=Math.ceil(s/15)*15;return i===60?(e.setHours(e.getHours()+1),e.setMinutes(0)):e.setMinutes(i),e.setSeconds(0),e.setMilliseconds(0),e}return t.jsxs("div",{id:"party",className:"element",children:[t.jsxs("h1",{children:["본격적으로",t.jsx("br",{}),t.jsx("span",{className:"point",children:"파티를 생성"}),"합니다."]}),t.jsxs("div",{className:"form-area",children:[t.jsxs("div",{className:"input",children:[t.jsx("div",{className:"label",children:"파티명"}),t.jsx("input",{type:"text",placeholder:"파티명을 입력하세요.",className:"",value:m,onChange:T})]}),t.jsxs("div",{children:[t.jsx("div",{className:"label",children:"카페선택"}),t.jsx("div",{className:"select",children:t.jsx(F,{onChange:e=>y(e),dataItem:o,itemKey:"cafeId",itemValue:"cafeNm",defaultValue:c})})]}),t.jsxs("div",{className:"form_date mgb10",children:[t.jsx("div",{className:"label",children:"마감설정"}),t.jsx(j,{locale:L,dateFormat:"yyyy/MM/dd",shouldCloseOnSelect:!0,className:"datepicker",selected:d,minDate:new Date,onChange:e=>x(e)})]}),t.jsx("div",{className:"form_date mgb10",children:t.jsx(j,{className:"timepicker",selected:r,onChange:e=>u(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"hh:mm aa"})})]}),t.jsx("footer",{id:"footer",children:D?t.jsx("div",{className:"large-btn",onClick:b,children:"미리보기"}):t.jsx("div",{className:"large-btn bg_gray",children:"미리보기"})})]})};export{K as default};
