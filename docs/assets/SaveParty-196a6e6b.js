import{r as n,b as k,u as E,d as P,j as s,f as _}from"./index-27bb99f2.js";/* empty css              */import{D as V,e as S,k as F}from"./react-datepicker-48bca610.js";import"./setPrototypeOf-0bb37fbe.js";const K=()=>{const[N,v]=n.useState(!0),[d,x]=n.useState(new Date),[r,u]=n.useState(new Date),[m,j]=n.useState(""),[c,f]=n.useState(""),[g,p]=n.useState(""),[o]=n.useState([{cafeNm:"메가커피",cafeId:"001"},{cafeNm:"컴포즈커피",cafeId:"002"}]),[D,l]=n.useState(!0);n.useEffect(()=>{N&&(a.partyName&&j(a.partyName),a.cafeId?(p(a.cafeNm),f(a.cafeId)):c===""&&g===""&&o.length>0&&(p(String(o[0].cafeNm)),f(String(o[0].cafeId))),a.endDate&&x(C(a.endDate)),a.endTime?u(M(a.endTime)):u(H()),v(!1)),l(m!==""&&c!=="");const e=new Date,t=r.getTime()-e.getTime();d.getTime()>e.getTime()?l(!0):setTimeout(()=>{r.getTime()-e.getTime()>1e3*60*60?l(!0):l(!1)},t)},[m,c,g,d,r,N]);const T=e=>{j(e.target.value)},y=e=>{const t=o.find(i=>i.cafeId===e.cafeId);p(String(t==null?void 0:t.cafeNm)??""),f(String(t==null?void 0:t.cafeId)??"")},a=k(e=>e.party),b=E(),I=P(),w=function(){const e=d.toLocaleDateString("en-CA").replace(/-/g,""),t=r.toLocaleTimeString("en-US",{hour12:!1}).slice(0,-3).replace(":","");I(_(m,c,g,e,t)),b("/party/preview")};function C(e){const t=parseInt(e.substring(0,4),10),i=parseInt(e.substring(4,6),10)-1,h=parseInt(e.substring(6,8),10);return new Date(t,i,h)}function M(e){const t=new Date,i=parseInt(e.substring(0,2),10),h=parseInt(e.substring(2,4),10);return t.setHours(i),t.setMinutes(h),t}function H(){const e=new Date,t=e.getMinutes(),i=Math.ceil(t/15)*15;return i===60?(e.setHours(e.getHours()+1),e.setMinutes(0)):e.setMinutes(i),e.setSeconds(0),e.setMilliseconds(0),e}return s.jsxs("div",{id:"party",className:"element",children:[s.jsxs("h1",{children:["본격적으로",s.jsx("br",{}),s.jsx("span",{className:"point",children:"파티를 생성"}),"합니다."]}),s.jsxs("div",{className:"form-area",children:[s.jsxs("div",{className:"input",children:[s.jsx("div",{className:"label",children:"파티명"}),s.jsx("input",{type:"text",placeholder:"파티명을 입력하세요.",className:"",value:m,onChange:T})]}),s.jsxs("div",{children:[s.jsx("div",{className:"label",children:"카페선택"}),s.jsx(V,{onChange:e=>y(e),dataItem:o,itemKey:"cafeId",itemValue:"cafeNm",defaultValue:c})]}),s.jsxs("div",{className:"form_date mgb10",children:[s.jsx("div",{className:"label",children:"마감설정"}),s.jsx(S,{locale:F,dateFormat:"yyyy/MM/dd",shouldCloseOnSelect:!0,className:"",selected:d,minDate:new Date,onChange:e=>x(e)}),s.jsx("div",{className:"btn",children:s.jsx("img",{src:"/src/assets/img/calendar_ic.png"})})]}),s.jsxs("div",{className:"form_date mgb10",children:[s.jsx(S,{selected:r,onChange:e=>u(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"hh:mm aa"}),s.jsx("div",{className:"btn",children:s.jsx("img",{src:"/src/assets/img/clock_ic.png"})})]})]}),s.jsx("footer",{id:"footer",children:D?s.jsx("div",{className:"large-btn",onClick:w,children:"미리보기"}):s.jsx("div",{className:"large-btn bg_gray",children:"미리보기"})})]})};export{K as default};
