import{b as f,c as y,u as N,r as v,j as s}from"./index-efbd0138.js";import{c as E}from"./clip_img-63a32124.js";import{h as b}from"./icon_hurry-37974c5e.js";import{A as T,a as w}from"./api.config-7a1e0839.js";import{O as D}from"./EasterEgg-82d89262.js";function A(){const t=f(e=>e.party),{showLoading:o,hideLoading:l}=y(),m=N(),d=async function(){if(!u()){const e={userList:t.memberList.map(r=>r.userId),partyName:t.partyName,cafeId:t.cafeId,endDate:t.endDate,endTime:t.endTime};o();const a=await T.put(`${w.defaultDomain}/party/save`,e).then(r=>r.json()).then(r=>r.data).catch(r=>{console.error("[/order/save] Error occurred ::: ",r)}).finally(()=>{l()});a.partyId&&String(a.partyId)==="157"?n(!0):m(`/party/confirm/${a.partyId}`)}},u=()=>{const e=new Date,a=new Date(e.getTime()+9*60*60*1e3),r=a.getUTCDay(),i=a.getUTCHours(),j=a.getUTCMinutes();return[{day:1,hours:8,minutes:30},{day:2,hours:13,minutes:16},{day:3,hours:10,minutes:10},{day:4,hours:14,minutes:44}].some(c=>c.day===r&&c.hours===i&&c.minutes===j)?(n(!0),!0):!1},h=e=>{const a=e.substring(0,4),r=e.substring(4,6),i=e.substring(6,8);return`${a}/${r}/${i}`},p=e=>{const a=e.substring(0,2),r=e.substring(2,4);return`${a}:${r}`},[g,n]=v.useState(!1),x=()=>{n(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(D,{isOpen:g,onClose:x,isForSpecific:!1}),s.jsxs("div",{id:"party",className:"element pbd50",children:[s.jsxs("h1",{children:["생성된 파티를",s.jsx("br",{}),s.jsx("span",{className:"point",children:"확인"}),"하세요."]}),s.jsxs("div",{className:"order-list-area mgt30",children:[s.jsx("div",{className:"clipimg",children:s.jsx("img",{alt:"clip",src:E})}),s.jsxs("div",{className:"order-title",children:[s.jsxs("div",{className:"text",children:[s.jsx("div",{className:"title",children:t.partyName}),s.jsx("div",{className:"cafenm point",children:t.cafeName})]}),s.jsx("div",{className:"image",children:s.jsx("img",{alt:"hurry",src:b})})]}),s.jsxs("div",{className:"order-time",children:[s.jsx("span",{className:"mgr5",children:s.jsx("b",{children:"마감시간"})})," ",h(t.endDate.replace(/[^0-9]/g,""))," ",p(t.endTime.replace(/[^0-9]/g,""))]}),s.jsxs("div",{className:"order-list-detail",children:[s.jsx("div",{className:"title",children:s.jsxs("b",{children:["파티원 ",s.jsx("span",{className:"point",children:t.memberList.length}),"명"]})}),s.jsx("div",{className:"list",children:s.jsx("ul",{children:t.memberList.map((e,a)=>s.jsxs("li",{children:[a+1,". ",e.name," ",e.rank,"(",e.team,")"]},a+1))})})]})]}),s.jsx("footer",{id:"footer",className:"bg_white",children:s.jsx("div",{className:"large-btn",onClick:d,children:"파티생성"})})]})]})}export{A as default};
