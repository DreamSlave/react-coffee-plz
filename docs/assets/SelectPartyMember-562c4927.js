import{r as d,b as D,u as E,d as I,j as c,s as S}from"./index-7df8e1a4.js";/* empty css              */import{C as k}from"./CheckBox-a531111c.js";const w=()=>{const[r,o]=d.useState([{name:"김진미",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID111"},{name:"김세인",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID222"},{name:"조도은",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID333"},{name:"권혜란",team:"PD팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID444"},{name:"정민재",team:"UX디자인팀",department:"기업부설연구소",rank:"프로",c_no:"01058935898",checked:!1,userId:"ID555"}]);d.useEffect(()=>{r.filter(e=>e.checked).length<1?h(!1):h(!0)},[r]);const[p,h]=d.useState(!0),[b,g]=d.useState(!0),i=D(e=>e.party);console.log(":partyInfo:",i.memberList.length),d.useEffect(()=>{const e=[...r];b&&(i.memberList.length!==0&&(e.forEach(s=>{i.memberList.some(a=>a.userId===s.userId)&&(s.checked=!0)}),o(e),f()),g(!1))},[]);const[l,m]=d.useState([...new Set(r.map(e=>e.team))].map(e=>({team:e,checked:!1,isView:!1}))),j=(e,s)=>{const a=[...l];a[e].isView=!s,m(a)},f=()=>{const e=[...l];e.forEach(s=>{r.filter(a=>a.team===s.team).every(a=>a.checked===!0)&&(s.checked=!0)}),m(e)},u=(e,s,a)=>{const n=[...r];switch(e){case"USERID":n.forEach(t=>{t.userId===s&&(t.checked=a)});break;case"TEAM":n.forEach(t=>{t.team===s&&(t.checked=a)});break}o(n),f()},x=E(),v=I(),_=function(){const e=r.filter(s=>s.checked===!0).map(s=>({userId:s.userId,rank:s.rank,team:s.team,name:s.name}));v(S(e)),x("/party/save")};return c.jsxs("div",{id:"party",className:"element",children:[c.jsxs("h1",{children:[c.jsx("span",{className:"point",children:"대상인원을"}),c.jsx("br",{}),"선택해주세요."]}),c.jsxs("div",{className:"total_chck",children:[r.filter(e=>e.checked).length,"명"]}),l.map((e,s)=>c.jsxs("div",{className:"chck_person",children:[c.jsx(k,{checked:e.checked,onChange:a=>u("TEAM",e.team,a.target.checked),children:c.jsx("span",{children:e.team},s+"_span")},e.team),c.jsxs("div",{className:"p_2dpth_btn",onClick:()=>j(s,e.isView),children:["  ",e.isView?"^":"⌄","   "]}),c.jsx("div",{className:"p_2dpth",children:e.isView&&r.filter(a=>a.team===e.team).map((a,n)=>c.jsx(k,{checked:a.checked,onChange:t=>u("USERID",a.userId,t.target.checked),children:c.jsx("div",{children:c.jsxs("div",{children:[a.name," ",a.rank," (",a.team,")"]},n)},n)},a.name))},s+"_innder_div")]},s)),c.jsx("footer",{id:"footer",children:p?c.jsx("div",{className:"large-btn",onClick:_,children:"파티생성하기"}):c.jsx("div",{className:"large-btn bg_gray",children:"파티생성하기"})})]})};export{w as default};
