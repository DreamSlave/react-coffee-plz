import{r as c,a as M,u as H,c as k,j as s,d as E}from"./index-baa901d4.js";/* empty css              */import{D as P,e as x,k as _}from"./react-datepicker-4e54d752.js";const O=()=>{const[j,S]=c.useState(!0),[u,f]=c.useState(new Date),[g,i]=c.useState(new Date),[p,h]=c.useState(""),[o,l]=c.useState(""),[N,d]=c.useState(""),[r]=c.useState([{cafeNm:"메가커피",cafeId:"001"},{cafeNm:"컴포즈커피",cafeId:"002"}]);c.useEffect(()=>{j&&(a.partyName&&h(a.partyName),a.cafeId?(d(a.cafeNm),l(a.cafeId)):o===""&&N===""&&r.length>0&&(d(String(r[0].cafeNm)),l(String(r[0].cafeId))),a.endDate&&f(w(a.endDate)),a.endTime?i(C(a.endTime)):i(T()),S(!1))},[]);const v=e=>{h(e.target.value)},D=e=>{console.log("data",e);const t=r.find(n=>n.cafeId===e.cafeId);d(String(t==null?void 0:t.cafeNm)??""),l(String(t==null?void 0:t.cafeId)??"")},a=M(e=>e.party),y=H(),I=k(),b=function(){const e=u.toLocaleDateString("en-CA").replace(/-/g,""),t=g.toLocaleTimeString("en-US",{hour12:!1}).slice(0,-3).replace(":","");I(E(p,o,N,e,t)),y("/party/preview")};function w(e){const t=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10)-1,m=parseInt(e.substring(6,8),10);return new Date(t,n,m)}function C(e){const t=new Date,n=parseInt(e.substring(0,2),10),m=parseInt(e.substring(2,4),10);return t.setHours(n),t.setMinutes(m),t}function T(){const e=new Date,t=e.getMinutes(),n=Math.ceil(t/15)*15;return n===60?(e.setHours(e.getHours()+1),e.setMinutes(0)):e.setMinutes(n),e.setSeconds(0),e.setMilliseconds(0),e}return s.jsxs("div",{id:"party",className:"element",children:[s.jsxs("h1",{children:["본격적으로",s.jsx("br",{}),s.jsx("span",{className:"point",children:"파티를 생성"}),"합니다."]}),s.jsxs("div",{className:"form-area",children:[s.jsxs("div",{className:"input",children:[s.jsx("div",{className:"label",children:"파티명"}),s.jsx("input",{type:"text",placeholder:"파티명을 입력하세요.",className:"",value:p,onChange:v})]}),s.jsxs("div",{children:[s.jsx("div",{className:"label",children:"카페선택"}),s.jsx(P,{onChange:e=>D(e),dataItem:r,itemKey:"cafeId",itemValue:"cafeNm",defaultValue:o})]}),s.jsxs("div",{className:"form_date mgb10",children:[s.jsx("div",{className:"label",children:"마감설정"}),s.jsx(x,{locale:_,dateFormat:"yyyy/MM/dd",shouldCloseOnSelect:!0,className:"",selected:u,minDate:new Date,onChange:e=>f(e)}),s.jsx("div",{className:"btn",children:s.jsx("img",{src:"/src/assets/img/calendar_ic.png"})})]}),s.jsxs("div",{className:"form_date mgb10",children:[s.jsx(x,{selected:g,onChange:e=>i(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"hh:mm aa"}),s.jsx("div",{className:"btn",children:s.jsx("img",{src:"/src/assets/img/clock_ic.png"})})]})]}),s.jsx("footer",{id:"footer",children:s.jsx("div",{className:"large-btn",onClick:b,children:"미리보기"})})]})};export{O as default};
